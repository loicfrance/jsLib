<!doctype html>
<html>

<head>
  <meta name="generator" content="JSDoc 3.4.3">
  <meta charset="utf-8">
  <title>Source: game2/object_mixins.js</title>
  <link rel="stylesheet" href="https://brick.a.ssl.fastly.net/Karla:400,400i,700,700i" type="text/css">
  <link rel="stylesheet" href="https://brick.a.ssl.fastly.net/Noto+Serif:400,400i,700,700i" type="text/css">
  <link rel="stylesheet" href="https://brick.a.ssl.fastly.net/Inconsolata:500" type="text/css">
  <link href="css/baseline.css" rel="stylesheet">
</head>

<body onload="prettyPrint()">
  <nav id="jsdoc-navbar" role="navigation" class="jsdoc-navbar">
    <div id="jsdoc-navbar-container">
      <div id="jsdoc-navbar-content">
        <a href="index.html" class="jsdoc-navbar-package-name">Home</a>
      </div>
    </div>
  </nav>
  <div id="jsdoc-body-container">
    <div id="jsdoc-content">
      <div id="jsdoc-content-container">
        <div id="jsdoc-banner" role="banner">
        </div>
        <div id="jsdoc-main" role="main">
          <header class="page-header">
            <h1>Source: game2/object_mixins.js</h1>
          </header>
          <article>
            <pre class="prettyprint linenums"><code>/**
 * Created by rfrance on 12/20/2016.
 */
/**
 * contains mixins to create objects with useful properties such as {@link game.objectProperties.health|health}&amp;lt;!--
 * --&gt;, {@link game.objectProperties.energy|energy}, {@link game.objectProperties.tag|tag}, ...
 * @namespace
 * @memberOf game
 * @property health
 * @property energy
 * @property tag
 */
game.objectProperties &#x3D; {
//######################################################################################################################
//#                                                       health                                                       #
//######################################################################################################################
	/**
	 * provides health methods and properties to create objects such as enemies, players, &amp;lt;!--
	 * --&gt;destructible objects, ...
	 * adds the &amp;lt;code&gt;health&amp;lt;/code&gt; attribute to the object, with a default value of 0 added &amp;lt;!--
	 * --&gt;as a prototype property, and a &amp;lt;code&gt;maxHealth&amp;lt;/code&gt; optional attribute &amp;lt;!--
	 * --&gt;(not created by default, but used in method if it exists).
	 * also adds getters and setters for those two attributes, and two other methods : &amp;lt;!--
	 * --&gt;&amp;lt;code&gt;{@link game.objectProperties.health.heal|heal}&amp;lt;/code&gt; and &amp;lt;!--
	 * --&gt;&amp;lt;code&gt;{@link game.objectProperties.health.receiveDamages|receiveDamages}&amp;lt;/code&gt;
	 * @memberOf game.objectProperties
	 * @mixin game.objectProperties.health
	 */
	health: {
		health: 0,
		/**
		 * sets the value of the &amp;lt;code&gt;health&amp;lt;/code&gt; attribute of the object to the specified value, &amp;lt;!--
		 * --&gt;without checking it
		 * @param {number} value
		 */
		setHealth : function( value ) {
			this.health &#x3D; value;
		},
		/**
		 * sets the value of the &amp;lt;code&gt;maxHealth&amp;lt;/code&gt; attribute, &amp;lt;!--
		 * --&gt;the maximum health this object can have.
		 * @param {number} value
		 */
		setMaxHealth : function( value ) {
			this.maxHealth &#x3D; value;
		},
		/**
		 * adds the parameter value to the &amp;lt;code&gt;health&amp;lt;/code&gt; and makes sure the &amp;lt;code&gt;maxHealth&amp;lt;/code&gt; &amp;lt;!--
		 * --&gt;value is not exceeded.
		 * @param {number} value
		 */
		heal : function( value ) {
			if(this.maxHealth !&#x3D; undefined &amp;amp;&amp;amp; this.health+value &gt; this.maxHealth) {
				value &#x3D; this.maxHealth;
			}
			else value +&#x3D; this.health;
			this.setHealth(value);
		},
		/**
		 * removes the specified &amp;lt;code&gt;damages&amp;lt;/code&gt; from the &amp;lt;code&gt;health&amp;lt;/code&gt;, &amp;lt;!--
		 * --&gt;and if the value goes below 0,sets it to 0 and kills the object.
		 * @param {game.GameManager} gameManager
		 * @param {number} damages
		 */
		receiveDamages : function( gameManager, damages ) {
			if(damages &gt; this.health) {
				this.setHealth(0);
				this.kill(gameManager);
			}
			else this.setHealth(this.health-damages);
		},
		/**
		 * returns the value of the &amp;lt;code&gt;health&amp;lt;/code&gt; attribute. default is 0.
		 * @returns {number}
		 */
		getHealth : function() {
			return this.health;
		},
		/**
		 * returns the value of the &amp;lt;code&gt;maxHealth&amp;lt;/code&gt; attribute, or undefined if not set.
		 * @returns {number}
		 */
		getMaxHealth : function() {
			return this.maxHealth;
		}
	},
//######################################################################################################################
//#                                                       energy                                                       #
//######################################################################################################################
	/**
	 * provides energy methods and properties.
	 * adds the &amp;lt;code&gt;energy&amp;lt;/code&gt; attribute to the object, with a default value of 0 added &amp;lt;!--
	 * --&gt;as a prototype property, and a &amp;lt;code&gt;maxEnergy&amp;lt;/code&gt; optional attribute &amp;lt;!--
	 * --&gt;(not created by default, but used in method if it exists).
	 * also adds getters and setters for those two attributes, and two other methods : &amp;lt;!--
	 * --&gt;&amp;lt;code&gt;{@link game.objectProperties.energy.recoverEnergy|recoverEnergy}&amp;lt;/code&gt; and &amp;lt;!--
	 * --&gt;&amp;lt;code&gt;{@link game.objectProperties.energy.useEnergy|useEnergy}&amp;lt;/code&gt;
	 * @memberOf game.objectProperties
	 * @mixin game.objectProperties.energy
	 */
	energy: {
		energy : 0,
		/**
		 * sets the value of the &amp;lt;code&gt;energy&amp;lt;/code&gt; attribute to the specified value.
		 * @param {number} value
		 */
		setEnergy : function( value ) {
			this.energy &#x3D; value;
		},
		/**
		 * sets the value of the &amp;lt;code&gt;maxEnergy&amp;lt;/code&gt; attribute to the specified value.
		 * @param {number} value
		 */
		setMaxEnergy : function( value ) {
			this.maxEnergy &#x3D; value;
		},
		/**
		 * adds the specified amount of energy to the player, and make sure the total amount &amp;lt;!--
		 * --&gt;does not exceed the maximum allowed
		 * @param {number} value
		 */
		recoverEnergy : function( value ) {
			if(this.maxEnergy !&#x3D; undefined &amp;amp;&amp;amp; this.energy+value &gt; this.maxEnergy) {
				value &#x3D; this.maxEnergy
			}
			else value +&#x3D; this.energy;
			this.setEnergy(value);
		},
		/**
		 * removes the specified value from the player&#x27;s &amp;lt;code&gt;energy&amp;lt;/code&gt; attribute if it has enough &amp;lt;!--
		 * --&gt;and returns true if the amount has been taken from the object&#x27;s &amp;lt;code&gt;energy&amp;lt;/code&gt;
		 * @param {number} value
		 * @returns {boolean}
		 */
		useEnergy : function( value ) {
			if(value &gt; this.energy) return false;
			else {
				this.energy -&#x3D; value;
				return true;
			}
		},
		/**
		 * returns the value of the &amp;lt;code&gt;energy&amp;lt;/code&gt; attribute. default is 0.
		 * @returns {number}
		 */
		getEnergy : function() {
			return this.energy;
		},
		/**
		 * returns the value of the &amp;lt;code&gt;maxEnergy&amp;lt;/code&gt; attribute, or undefined if not set.
		 * @returns {number}
		 */
		getMaxEnergy : function() {
			return this.maxEnergy;
		}
	},
//######################################################################################################################
//#                                                         tag                                                        #
//######################################################################################################################
	/**
	 * provides tag methods and property.
	 * when needed, adds a &amp;lt;code&gt;tags&amp;lt;/code&gt; attribute that will contain all future tags associated with the object.
	 * adds the following methods :
	 * - &amp;lt;code&gt;{@link game.objectProperties.tag.addTag|addTag}&amp;lt;/code&gt; that adds the specified tag to the &amp;lt;!--
	 * --&gt;current ones. creates the &amp;lt;code&gt;tags&amp;lt;/code&gt; attribute if needed,
	 * - &amp;lt;code&gt;{@link game.objectProperties.tag.hasTag|hasTag}&amp;lt;/code&gt; that checks if the object has &amp;lt;!--
	 * --&gt;the specified tag,
	 * - &amp;lt;code&gt;{@link game.objectProperties.tag#getTags|getTags}&amp;lt;/code&gt; that returns the &amp;lt;code&gt;tags&amp;lt;/code&gt; &amp;lt;!--
	 * --&gt;attribute,
	 * - &amp;lt;code&gt;{@link game.objectProperties.tag#isTagged|isTagged}&amp;lt;/code&gt; that returns true if the object &amp;lt;!--
	 * --&gt;has at least one tag,
	 * - &amp;lt;code&gt;{@link game.objectProperties.tag#clearTags|clearTags}&amp;lt;/code&gt; that clears all tags of the object &amp;lt;!--
	 * --&gt;by re-creating the &amp;lt;code&gt;tags&amp;lt;/code&gt; attribute.
	 *
	 * You can also use some function such as &amp;lt;code&gt;{@link game.objectProperties.tag_canHaveTag}&amp;lt;/code&gt; and &amp;lt;!--
	 * --&gt;&amp;lt;code&gt;{@link game.objectProperties.tag_hasTag}&amp;lt;/code&gt;, that you can use as a filter for objects,  and &amp;lt;!--
	 * --&gt;&amp;lt;code&gt;{@link game.objectProperties.tag_getAllObjectsWithTag}.
	 * @memberOf game.objectProperties
	 * @property {Array|undefined} tags
	 * @mixin game.objectProperties.tag
	 */
	tag: {
		/**
		 * adds the specified tag to the object. If the object had no tag, the attribute &amp;lt;code&gt;tags&amp;lt;/code&gt; &amp;lt;!--
		 * --&gt;is created.
		 * @param {*} tag
		 */
		addTag: function( tag ) {
			if(!this.tags) this.tags &#x3D; [tag];
			else this.tags.push(tag);
		},
		/**
		 * returns true if the object has the specified tag.
		 * @param {*} tag
		 * @returns {boolean}
		 */
		hasTag: function( tag ) {
			return this.tags !&#x3D;&#x3D; undefined &amp;amp;&amp;amp; this.tags.indexOf(tag) !&#x3D;&#x3D; -1;
		},
		/**
		 * returns the &amp;lt;code&gt;tags&amp;lt;/code&gt; attribute, containing all tags added to the objects
		 * @returns {Array&amp;lt;*&gt;}
		 */
		getTags: function() {
			return this.tags;
		},
		/**
		 * returns true if the object has at least one tag.
		 * @returns {boolean}
		 */
		isTagged: function() {
			return this.tags !&#x3D;&#x3D; undefined &amp;amp;&amp;amp; this.tags.length &gt; 0;
		},
		/**
		 * removes all tags of from the object by setting the &amp;lt;code&gt;tags&gt; attribute to an empty array
		 */
		clearTags: function() {
			this.tags &#x3D; [];
		}
	},
	/**
	 * returns true if the object implements the {@link game.objectProperties.tag|tag} mixin.
	 * Can be used as a filter.
	 * @param {game.Object} obj
	 * @returns {boolean}
	 */
	tag_canHaveTag: obj&#x3D;&gt;obj.hasTag !&#x3D;&#x3D; undefined,
	/**
	 * returns true if the object implements the {@link game.objectProperties.tag|tag} mixin, &amp;lt;!--
	 * --&gt;and has the specified tag. can be used as a filter to get all objects with a tag by binding the &amp;lt;!--
	 * --&gt;first argument to the filtered tag
	 * @param {*} tag
	 * @param {game.Object} obj
	 * @returns {boolean}
	 */
	tag_hasTag: (tag, obj)&#x3D;&gt; obj.hasTag &amp;amp;&amp;amp; obj.hasTag(tag),
	/**
	 * returns all objects in the game with the specified tag
	 * @param {game.GameManager} gameManager
	 * @param {*} tag
	 * @returns {game.Object[]}
	 */
	tag_getAllObjectsWithTag: (gameManager, tag&#x3D;null)&#x3D;&gt; {
		if(tag) return gameManager.getObjects(game.objectProperties.tag.hasTag.bind(undefined, tag));
		else return gameManager.getObjects(game.objectProperties.canHaveTag);
	},
//######################################################################################################################
//#                                                       control                                                      #
//######################################################################################################################
	control: {

	}
};</code></pre>
          </article>
        </div>
      </div>
      <nav id="jsdoc-toc-nav" role="navigation"></nav>
    </div>
  </div>
  <footer id="jsdoc-footer" class="jsdoc-footer">
    <div id="jsdoc-footer-container">
      <p>
        Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc</a> 3.4.3 on May 9, 2017.
      </p>
    </div>
  </footer>
  <script src="scripts/jquery.min.js"></script>
  <script src="scripts/jquery.cookie.js"></script>
  <script src="scripts/tree.jquery.js"></script>
  <script src="scripts/prettify.js"></script>
  <script src="scripts/jsdoc-toc.js"></script>
  <script src="scripts/linenumber.js"></script>
  <script src="scripts/scrollanchor.js"></script>
</body>

</html>